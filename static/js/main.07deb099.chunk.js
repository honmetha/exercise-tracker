(this["webpackJsonpexercise-tracker"]=this["webpackJsonpexercise-tracker"]||[]).push([[0],{104:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(16),i=a.n(r),c=(a(146),a(147),a(55)),s=a(20),o=a(236),l=a(118),d=Object(l.a)({typography:{fontFamily:"Nanum Gothic"},palette:{primary:{main:"#313131"},secondary:{main:"#8ec5fc"}}}),u=a(19),j=n.createContext(null),h=a(15),b=a(72),m=a(106),O=a(120),p=a(119),x=a(78),f=(a(150),a(152),{apiKey:"AIzaSyCPjYnqkUONz0hXlhyt534BTKel_w_8jEw",authDomain:"workout-tracker-13609.firebaseapp.com",projectId:"workout-tracker-13609",storageBucket:"workout-tracker-13609.appspot.com",messagingSenderId:"326217281458",appId:"1:326217281458:web:946faa16116346f7fafeab",measurementId:"G-E1DGYX9T91"}),g=function e(){var t=this;Object(b.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.addActivity=function(e,a){t.db.ref().child("users/".concat(e,"/activities")).push(a)},this.updateActivity=function(e,a,n){t.db.ref().child("users/".concat(e,"/activities/").concat(n)).update(a)},x.a.initializeApp(f),this.auth=x.a.auth(),this.db=x.a.database()},v=a(3),y=n.createContext(null),w=function(e){return function(t){return Object(v.jsx)(y.Consumer,{children:function(a){return Object(v.jsx)(e,Object(h.a)(Object(h.a)({},t),{},{firebase:a}))}})}},S=y,k=g,C=function(e){var t=function(t){Object(O.a)(n,t);var a=Object(p.a)(n);function n(e){var t;return Object(b.a)(this,n),(t=a.call(this,e)).state={authUser:null},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return Object(v.jsx)(j.Provider,{value:this.state.authUser,children:Object(v.jsx)(e,Object(h.a)({},this.props))})}}]),n}(n.Component);return w(t)},N=a(5),D=a(226),M=a(237),A=a(227),W=a(228),E=a(54),B=a(220),I=a(229),U=a(230),T=a(115),P=a.n(T),q=a(116),F=a.n(q),Y=a(24),z=a(203),R=Object(z.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Y.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},contentClosed:{marginLeft:75},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),L=a(43),V=a.n(L),G=a(219),H=a(123),K=a(240),X=(a(104),a(107)),J=a.n(X),_=a(208),Q=a(211),Z=a(205),$=a(207),ee=a(209),te=a(210),ae=function(e){for(var t=e.firstDayOfMonth,a=e.daysInMonth,n=e.currentDay,r=e.currentMonth,i=e.currentMonthNum,c=e.selectedDay,s=e.activeDays,o=e.setSelectedDay,l=e.actualMonth,d=e.weekdays,u=[],j=0;j<t();j++)u.push(Object(v.jsx)(Z.a,{children:""},J()()));for(var h=[],b=function(e){var t=void 0,a=void 0,d=void 0;n()===e&&r()===l()&&(t="today"),c.day===e&&i()===c.month&&(a="selected-day");var u="".concat(e,"-").concat(i());-1!==s.indexOf(u)&&(d="active"),d&&e<10&&(d+=" padding-x"),h.push(Object(v.jsx)(Z.a,{className:"week-day ".concat(t," ").concat(a),onClick:function(){return o(e)},children:Object(v.jsx)("span",{className:d,children:e})},e))},m=1;m<=a();m++)b(m);var O=[].concat(u,h),p=[],x=[];return O.forEach((function(e,t){t%7!==0?x.push(e):(p.push(x),(x=[]).push(e)),t===O.length-1&&p.push(x)})),Object(v.jsx)($.a,{component:H.a,children:Object(v.jsxs)(_.a,{className:"calendar",children:[Object(v.jsx)(ee.a,{children:Object(v.jsx)(te.a,{children:d.map((function(e,t){return Object(v.jsx)(Z.a,{children:e},t)}))})}),Object(v.jsx)(Q.a,{children:p.map((function(e,t){return Object(v.jsx)(te.a,{children:e},t)}))})]})})},ne=a(108),re=a.n(ne),ie=function(e){var t=e.allMonths,a=e.setMonth,n=e.toggleMonthSelect,r=e.currentMonth,i=e.currentYear,c=e.showMonthTable,s=[];t.map((function(e){return s.push(Object(v.jsx)(Z.a,{colSpan:"2",className:"month-cell",style:{textAlign:"center"},onClick:function(t){return a(e)},children:Object(v.jsx)("span",{children:e})},e))}));var o=[],l=[];s.forEach((function(e,t){t%3!==0||0===t?l.push(e):(o.push(l),(l=[]).push(e))})),o.push(l);var d=o.map((function(e,t){return Object(v.jsx)(te.a,{children:e},t)}));return Object(v.jsx)($.a,{component:H.a,className:"month-selector",children:Object(v.jsxs)(_.a,{children:[Object(v.jsx)(ee.a,{children:Object(v.jsxs)(te.a,{children:[Object(v.jsxs)(Z.a,{className:"toggle-month",colSpan:"4",onClick:function(){return n()},children:[r(),Object(v.jsx)(re.a,{className:"arrow-icon"})]}),Object(v.jsx)(Z.a,{colSpan:"4",children:i()})]})}),c?Object(v.jsxs)(Q.a,{children:[Object(v.jsx)(te.a,{children:Object(v.jsx)(Z.a,{colSpan:"5",style:{textAlign:"center"},className:"select-month-title",children:"Select a month"})}),d]}):null]})})},ce=a(218),se=a(239),oe=a(238),le=a(217),de=a(212),ue=a(245),je=Object(z.a)((function(e){return{formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}));var he=w((function(e){var t=je(),a=e.authUser,r=e.firebase,i=e.selectedDay,c=e.setOpenSnackbar,s=e.setSnackbarMsg,o=a.uid;i.year=(new Date).getFullYear();var l="".concat(i.day,"-").concat(i.month,"-").concat(i.year),d={name:"",type:1,duration:0,date:l},j=n.useState(d),b=Object(u.a)(j,2),m=b[0],O=b[1],p=function(e){var t=e.target,a=t.name,n=t.value;O(Object(h.a)(Object(h.a)({},m),{},Object(Y.a)({date:l},a,n)))},x=""===m.name;return Object(v.jsxs)("form",{noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[Object(v.jsxs)(de.a,{className:t.formControl,children:[Object(v.jsx)(se.a,{style:{marginTop:"5px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Activity name",value:m.name,name:"name",onChange:p}),Object(v.jsxs)("div",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(v.jsx)(E.a,{id:"discrete-slider",gutterBottom:!0,children:"Type"}),Object(v.jsxs)(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m.type,style:{minWidth:"100%"},name:"type",onChange:p,children:[Object(v.jsx)(le.a,{value:1,children:"Exercise"}),Object(v.jsx)(le.a,{value:2,children:"Nutrition"}),Object(v.jsx)(le.a,{value:3,children:"Sleep"})]})]}),Object(v.jsx)(E.a,{id:"discrete-slider",gutterBottom:!0,children:"Duration"}),Object(v.jsx)(ue.a,{defaultValue:m.duration,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,min:0,max:100,name:"duration",onChangeCommitted:function(e,t){var a=t.toString();O(Object(h.a)(Object(h.a)({},m),{},{duration:a}))},style:{marginBottom:"20px"}},"slider-".concat(m.duration))]}),Object(v.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){a&&(r.addActivity(o,m),O(d),c(!0),s("Added activity"),setTimeout((function(){c(!1)}),3e3))},disabled:x,children:"Add activity"})]})})),be=Object(z.a)((function(e){return{formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}));var me=w((function(e){var t=be(),a=e.authUser,r=e.firebase,i=e.activity,c=e.activityKey,s=e.setEditing,o=e.setOpenSnackbar,l=e.setSnackbarMsg,d=a.uid,j={name:i.name,type:i.type,duration:i.duration,date:i.date},b=n.useState(j),m=Object(u.a)(b,2),O=m[0],p=m[1],x=function(e){var t=e.target,a=t.name,n=t.value;p(Object(h.a)(Object(h.a)({},O),{},Object(Y.a)({},a,n)))},f=""===O.name;return Object(v.jsxs)("form",{noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[Object(v.jsxs)(de.a,{className:t.formControl,children:[Object(v.jsx)(se.a,{style:{marginTop:"5px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:O.name,label:"Activity name",name:"name",onChange:x}),Object(v.jsxs)("div",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(v.jsx)(E.a,{id:"discrete-slider",gutterBottom:!0,children:"Type"}),Object(v.jsxs)(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O.type,style:{minWidth:"100%"},name:"type",onChange:x,children:[Object(v.jsx)(le.a,{value:1,children:"Exercise"}),Object(v.jsx)(le.a,{value:2,children:"Nutrition"}),Object(v.jsx)(le.a,{value:3,children:"Sleep"})]})]}),Object(v.jsx)(E.a,{id:"discrete-slider",gutterBottom:!0,children:"Duration"}),Object(v.jsx)(ue.a,{defaultValue:parseInt(O.duration),"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,min:0,max:100,name:"duration",onChangeCommitted:function(e,t){var a=t.toString();p(Object(h.a)(Object(h.a)({},O),{},{duration:a}))},style:{marginBottom:"20px"}},"slider-".concat(O.duration))]}),Object(v.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){a&&(r.updateActivity(d,O,c),s(!1),o(!0),l("Updated activity"),setTimeout((function(){o(!1)}),3e3))},disabled:f,children:"Save activity"})]})})),Oe=a.p+"static/media/loader.eb789107.gif",pe=a(109),xe=a.n(pe),fe=a(110),ge=a.n(fe),ve=w((function(e){var t=e.loading,a=e.activities,n=e.editActivity,r=e.setOpenSnackbar,i=e.setSnackbarMsg,c=e.setEditing;return Object(v.jsxs)(v.Fragment,{children:[!0===t?Object(v.jsx)("img",{src:Oe,alt:Oe}):"","not set"===a||null===a?Object(v.jsx)("p",{children:"No activities added yet."}):Object(v.jsx)($.a,{component:H.a,children:Object(v.jsxs)(_.a,{children:[Object(v.jsx)(ee.a,{children:Object(v.jsxs)(te.a,{children:[Object(v.jsx)(Z.a,{children:"Name"}),Object(v.jsx)(Z.a,{children:"Type"}),Object(v.jsx)(Z.a,{children:"Duration"}),Object(v.jsx)(Z.a,{children:"Actions"})]})}),Object(v.jsx)(Q.a,{children:Object.values(a).map((function(t,s){var o=t.name,l=t.type,d=t.duration;switch(t.type){case 1:l="Exercise";break;case 2:l="Nutrition";break;case 3:l="Sleep";break;default:l="Not set"}return Object(v.jsxs)(te.a,{children:[Object(v.jsx)(Z.a,{children:o}),Object(v.jsx)(Z.a,{children:l}),Object(v.jsx)(Z.a,{children:d}),Object(v.jsxs)(Z.a,{children:[Object(v.jsx)(xe.a,{onClick:function(t){return function(t){var n=Object.keys(a)[t];e.firebase.updateActivity(e.authUser.uid,{date:null,duration:null,type:null,name:null},n),r(!0),i("Deleted activity"),setTimeout((function(){r(!1)}),3e3),c(!1)}(s)}}),Object(v.jsx)(ge.a,{onClick:function(e){return n(t,s)},style:{marginLeft:"20px"}})]})]},s)}))})]})})]})}));var ye=function(e){var t=e.firebase,a=e.authUser,r={day:V()().format("D"),month:V()().month()},i=n.useState(V()()),c=Object(u.a)(i,2),s=c[0],o=c[1],l=n.useState(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],b=n.useState(r),m=Object(u.a)(b,2),O=m[0],p=m[1],x=V.a.months(),f=function(){return s.format("MMMM")},g=function(){return s.month()},y=n.useState(!1),w=Object(u.a)(y,2),S=w[0],k=w[1],C=n.useState(null),N=Object(u.a)(C,2),D=N[0],M=N[1],A=n.useState(!0),W=Object(u.a)(A,2),E=W[0],B=W[1],I=n.useState([]),U=Object(u.a)(I,2),T=U[0],P=U[1],q=n.useState([]),F=Object(u.a)(q,2),Y=F[0],z=F[1],R=function(){t.db.ref().child("users/".concat(a.uid,"/activities")).on("value",(function(e){var t=e.val();if(t){var a=Object.values(t).map((function(e){return 8===e.date.length?e.date.slice(0,3):e.date.slice(0,4)}));console.log(a),z(a)}}))};n.useEffect((function(){!function(){var e="".concat(O.day,"-").concat(O.month,"-").concat(O.year);t.db.ref().child("users/".concat(a.uid,"/activities")).orderByChild("date").equalTo(e).on("value",(function(e){var t=e.val();B(t),P(!1)})),R()}()}),[O]);var L=n.useState(!1),X=Object(u.a)(L,2),J=X[0],_=X[1],Q=n.useState(null),Z=Object(u.a)(Q,2),$=Z[0],ee=Z[1],te=n.useState(null),ne=Object(u.a)(te,2),re=ne[0],ce=ne[1];return Object(v.jsxs)(G.a,{container:!0,spacing:3,children:[Object(v.jsxs)(G.a,{item:!0,xs:12,md:8,lg:9,children:[Object(v.jsx)(ie,{allMonths:x,currentMonth:f,currentYear:function(){return s.format("YYYY")},setMonth:function(e){var t=x.indexOf(e),a=Object.assign({},s);a=V()(s).set("month",t),o(a),h(!1)},showMonthTable:j,toggleMonthSelect:function(){return h(!j)}}),Object(v.jsx)(ae,{firstDayOfMonth:function(){return V()(s).startOf("month").format("d")},daysInMonth:function(){return s.daysInMonth()},currentDay:function(){return s.format("D")},currentMonth:f,currentMonthNum:g,actualMonth:function(){return V()().format("MMMM")},setSelectedDay:function(e){p({day:e,month:g()})},selectedDay:O,weekdays:V.a.weekdays(),activeDays:Y})]}),Object(v.jsx)(G.a,{item:!0,xs:12,md:4,lg:3,children:Object(v.jsx)(H.a,{className:"paper",children:J?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h3",{children:["Edit activity on ",O.day,"-",O.month+1," "]}),Object(v.jsx)(me,{activity:$,activityKey:re,selectedDay:O,authUser:e.authUser,setEditing:_,setOpenSnackbar:k,setSnackbarMsg:M})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h3",{children:["Add activity on ",O.day,"-",O.month+1," "]}),Object(v.jsx)(he,{selectedDay:O,authUser:e.authUser,setOpenSnackbar:k,setSnackbarMsg:M})]})})}),Object(v.jsx)(G.a,{item:!0,xs:12,md:7,children:Object(v.jsxs)(H.a,{className:"paper",children:[Object(v.jsxs)("h3",{children:["Activities on ",O.day,"-",O.month+1]}),Object(v.jsx)(ve,{loading:T,activities:E,authUser:e.authUser,setOpenSnackbar:k,setSnackbarMsg:M,editActivity:function(e,t){ce(Object.keys(E)[t]),_(!0),ee(e)},setEditing:_})]})}),Object(v.jsx)(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:S,message:D})]})},we=a(166),Se=a(224),ke=a(225),Ce=a(222),Ne=a(112),De=a.n(Ne),Me=a(114),Ae=a.n(Me),We=a(113),Ee=a.n(We),Be=a(223),Ie=a(242),Ue=a(216),Te=a(221),Pe=a(111),qe=a.n(Pe);var Fe=function(e){var t=Object(s.f)(),a=R();return Object(v.jsxs)(Ie.a,{variant:"permanent",classes:{paper:Object(N.a)(a.drawerPaper,!e.open&&a.drawerPaperClose)},open:e.open,children:[Object(v.jsx)("div",{className:a.toolbarIcon,children:Object(v.jsx)(B.a,{onClick:e.handleDrawerClose,children:Object(v.jsx)(qe.a,{})})}),Object(v.jsx)(Te.a,{}),Object(v.jsxs)(Ue.a,{children:[Object(v.jsx)(Ce.a,{inset:!0,children:"Menu"}),Object(v.jsx)(Be.a,{href:"".concat(t.url),children:Object(v.jsxs)(we.a,{button:!0,children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(ke.a,{primary:"Activities"})]})})]}),Object(v.jsx)(Te.a,{}),Object(v.jsx)(Ue.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(Ce.a,{inset:!0,children:"Account"}),Object(v.jsx)(Be.a,{href:"".concat(t.url,"/admin"),children:Object(v.jsxs)(we.a,{button:!0,children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)(Ee.a,{})}),Object(v.jsx)(ke.a,{primary:"Settings"})]})}),Object(v.jsxs)(we.a,{button:!0,onClick:function(){return e.signOut()},children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)(Ae.a,{})}),Object(v.jsx)(ke.a,{primary:"Log out"})]})]})})]})},Ye=function(){return Object(v.jsxs)(E.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(Be.a,{color:"inherit",href:"https://material-ui.com/",children:"Hon Website"})," ",(new Date).getFullYear(),"."]})};var ze=Object(s.g)(C((function(e){console.log("AuthUserContext",j),console.log("withAuthentication",C);var t=R(),a=n.useState(!0),r=Object(u.a)(a,2),i=r[0],c=r[1],s=function(){return c(!0)},o=function(){return c(!1)},l=function(){e.firebase.auth.signOut(),e.history.push("/")};return Object(v.jsx)(j.Consumer,{children:function(a){return a?Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(D.a,{}),Object(v.jsx)(A.a,{position:"absolute",className:Object(N.a)(t.appBar,i&&t.appBarShift),children:Object(v.jsxs)(W.a,{className:t.toolbar,children:[Object(v.jsx)(B.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,className:Object(N.a)(t.menuButton,i&&t.menuButtonHidden),children:Object(v.jsx)(P.a,{})}),Object(v.jsx)(E.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:"Dashboard"}),Object(v.jsx)(B.a,{color:"inherit",children:Object(v.jsxs)(I.a,{badgeContent:4,color:"secondary",children:[Object(v.jsx)(E.a,{component:"p",style:{paddingRight:"15px"},children:"username"}),Object(v.jsx)(F.a,{})]})})]})}),Object(v.jsx)(Fe,{signOut:l,open:i,handleDrawerClose:o}),Object(v.jsxs)("main",{className:(t.content,i?t.appBarShift:t.contentClosed),children:[Object(v.jsx)("div",{className:t.appBarSpacer}),Object(v.jsxs)(U.a,{maxWidth:"xl",className:t.container,children:[Object(v.jsx)(ye,{firebase:e.firebase,authUser:a}),Object(v.jsx)(M.a,{pt:4,children:Object(v.jsx)(Ye,{})})]})]})]}):Object(v.jsx)("p",{children:"Not authorized."})}})}))),Re=a(86),Le=a.n(Re),Ve=a(117),Ge=a(241),He=a(77),Ke=a.n(He),Xe=Object(z.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/collection/8172461/1500xauto)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===e.palette.type?e.palette.grey[900]:e.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},logo:{display:"flex",alignItems:"center",marginBottom:"2em"},logoText:{fontWeight:"bold"},error:{color:"red"}}})),Je=a(231),_e=a(235),Qe=a(233),Ze=a(234),$e=a(232);var et=w((function(e){var t=n.useState(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=n.useState(!1),s=Object(u.a)(c,2),o=s[0],l=s[1],d=function(){i(!1)},j=n.useState({email:"",error:null}),b=Object(u.a)(j,2),m=b[0],O=b[1],p=""===m.email;return Object(v.jsxs)("div",{children:[Object(v.jsx)(Be.a,{variant:"body2",onClick:function(){i(!0)},children:"Forgot password?"}),Object(v.jsxs)(Je.a,{open:r,onClose:d,"aria-labelledby":"form-dialog-title",children:[Object(v.jsx)($e.a,{id:"form-dialog-title",children:"Reset my password"}),Object(v.jsxs)(Qe.a,{children:[Object(v.jsx)(Ze.a,{children:"To reset your password, please enter your email address here. We will you instructions on how to reset your password shortly after."}),Object(v.jsx)(se.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",name:"email",value:m.email,onChange:function(e){var t=e.target,a=t.name,n=t.value;O(Object(h.a)(Object(h.a)({},m),{},Object(Y.a)({},a,n)))},fullWidth:!0}),m.error&&Object(v.jsx)("p",{style:{color:"red"},children:m.error.message})]}),Object(v.jsxs)(_e.a,{children:[Object(v.jsx)(ce.a,{onClick:d,color:"primary",children:"Cancel"}),Object(v.jsx)(ce.a,{onClick:function(){e.firebase.doPasswordReset(m.email).then((function(){O({email:"",error:null}),d(),l(!0)})).catch((function(e){O({error:e})}))},disabled:p,type:"submit",color:"primary",children:"Reset password"})]})]}),Object(v.jsx)(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,autoHideDuration:6e3,message:"Password reset link succesfully sent"})]})}));var tt=Object(s.g)(w((function(e){var t=Xe(),a={id:null,email:"",password:"",error:null,auth:null},r=Object(n.useState)(a),i=Object(u.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(!1),l=Object(u.a)(o,2),d=l[0],j=l[1],b=function(e){var t=e.target,a=t.name,n=t.value;s(Object(h.a)(Object(h.a)({},c),{},Object(Y.a)({},a,n)))},m=function(){var t=Object(Ve.a)(Le.a.mark((function t(){return Le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,e.firebase.doSignInWithEmailAndPassword(c.email,c.password).then((function(t){s({initialUser:a}),e.history.push("/dashboard")})).catch((function(e){s(Object(h.a)(Object(h.a)({},c),{},{error:e.message}))}));case 3:j(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=""===c.email||""===c.password;return console.log("user",c),Object(v.jsxs)(G.a,{container:!0,component:"main",className:t.root,children:[Object(v.jsx)(D.a,{}),Object(v.jsx)(G.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(v.jsx)(G.a,{item:!0,xs:12,sm:8,md:5,component:H.a,elevation:6,square:!0,children:Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)(Ge.a,{className:t.avatar,children:Object(v.jsx)(Ke.a,{})}),Object(v.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(v.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[Object(v.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:b}),Object(v.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:b}),Object(v.jsx)(E.a,{className:t.error,children:c.error?c.error:""}),Object(v.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:m,disabled:O||d,children:"Sign In"}),Object(v.jsxs)(G.a,{container:!0,children:[Object(v.jsx)(G.a,{item:!0,xs:!0,children:Object(v.jsx)(Be.a,{href:"#",variant:"body2",children:Object(v.jsx)(et,{})})}),Object(v.jsx)(G.a,{item:!0,children:Object(v.jsx)(Be.a,{href:"/sign-up",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(v.jsx)(M.a,{mt:5,children:Object(v.jsx)(Ye,{})})]})]})})]})})));var at=Object(s.g)(w((function(e){var t=Xe(),a={id:null,name:"",email:"",password:"",error:null,auth:null},r=Object(n.useState)(a),i=Object(u.a)(r,2),c=i[0],s=i[1],o=function(e){var t=e.target,a=t.name,n=t.value;s(Object(h.a)(Object(h.a)({},c),{},Object(Y.a)({},a,n)))},l=""===c.name||""===c.email||""===c.password;return Object(v.jsxs)(G.a,{container:!0,component:"main",className:t.root,children:[Object(v.jsx)(D.a,{}),Object(v.jsx)(G.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(v.jsx)(G.a,{item:!0,xs:12,sm:8,md:5,component:H.a,elevation:6,square:!0,children:Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)(Ge.a,{className:t.avatar,children:Object(v.jsx)(Ke.a,{})}),Object(v.jsx)(E.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(v.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return e.preventDefault()},children:[Object(v.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoFocus:!0,value:c.name,onChange:o}),Object(v.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:o}),Object(v.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:o}),Object(v.jsx)(E.a,{className:t.error,children:c.error?c.error:""}),Object(v.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){e.firebase.auth.createUserWithEmailAndPassword(c.email,c.password).then((function(t){return e.firebase.user(t.user.uid).set({username:c.name,email:c.email,activities:"not set"})})).then((function(t){s(a),e.history.push("/dashboard")})).catch((function(e){s(Object(h.a)(Object(h.a)({},c),{},{error:e.message}))}))},disabled:l,children:"Sign up"}),Object(v.jsx)(G.a,{container:!0,children:Object(v.jsx)(G.a,{item:!0,children:Object(v.jsx)(Be.a,{href:"/",variant:"body2",children:"Already have an account? Sign In"})})}),Object(v.jsx)(M.a,{mt:5,children:Object(v.jsx)(Ye,{})})]})]})})]})})));var nt=function(){return Object(v.jsx)(c.a,{children:Object(v.jsx)(o.a,{theme:d,children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{exact:!0,path:"/",component:tt}),Object(v.jsx)(s.a,{path:"/sign-up",component:at}),Object(v.jsx)(s.a,{path:"/dashboard",component:ze})]})})})};i.a.render(Object(v.jsx)(S.Provider,{value:new k,children:Object(v.jsx)(nt,{})}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.07deb099.chunk.js.map